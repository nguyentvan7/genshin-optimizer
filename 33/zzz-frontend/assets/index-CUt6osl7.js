import{b as v,c as o,h as n,j as e,aw as I,a5 as g,T as C,ax as k,ay as D,az as z,F as S,S as T,C as f,r as h,aA as E,u as G,a as j,ap as R,aB as m,aC as A,aD as F,aE as M,aF as y,f as B,G as c,aG as W,J as H,t as L,aH as O,aI as P}from"./index-CHVQ1nnb.js";import{a as q,b as p}from"./char-BlQxPVNI.js";import"./useForceUpdate-DLkqmNDP.js";const J=[{src:"basic",text:"1"},{src:"dodge",text:"12"},{src:"assist",text:"1"},{src:"special",text:"5"},{src:"chain",text:"6"},{src:"core",text:"6"}];function N({characterKey:t}){const{database:d}=v(),i=q(t)??(t?d.chars.getOrCreate(t):void 0),a=p(t),r=i==null?void 0:i.key,s=a==null?void 0:a.specialty,u=a==null?void 0:a.attribute,x=i==null?void 0:i.level,l=a==null?void 0:a.rarity;return o(S,{children:[o(n,{display:"flex",gap:1.5,alignItems:"center",children:[e(g,{size:2,src:I(l)}),e(C,{variant:"h4",children:r}),e(k,{ele:u}),e(g,{size:2,src:D(s)})]}),o(n,{display:"flex",gap:3,alignItems:"center",children:[e(n,{children:e(C,{component:"span",variant:"h5",whiteSpace:"nowrap",fontStyle:"italic",fontWeight:"bold",fontSize:"1.625rem",sx:{textShadow:"none"},children:o("strong",{children:["Lv.",x]})})}),e(n,{display:"flex",gap:1.5,marginLeft:"14px",alignItems:"center",children:J.map((b,w)=>o(n,{position:"relative",children:[e(g,{size:2,src:z(b.src)}),e(n,{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:"-10px",left:"-4px",width:"1.7em",height:"1.7em",borderRadius:"1rem",fontWeight:"bold",fontSize:"0.8rem",sx:{background:"#1C1C1C"},children:b.text})]},w))})]})]})}function Q({characterKey:t}){return e(h.Suspense,{fallback:e(T,{variant:"rectangular",width:"100%",height:300}),children:e(f,{bgt:"light",sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:"24px"},children:e(_,{characterKey:t})})})}function _({characterKey:t}){const d=p(t);return o(f,{sx:{borderRadius:"20px"},children:[e(n,{sx:i=>({p:1,width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1,position:"relative",background:`${i.palette[d.attribute].main}`,height:"270px",padding:0}),children:e(E,{characterKey:t})}),e(n,{sx:i=>({padding:"8px 8px 8px 20px",width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1,position:"relative",background:"#1A263A"}),children:e(N,{characterKey:t})})]})}function $({value:t,totals:d,onChange:i,...a}){const r=G(),s=!j(r.breakpoints.up("sm")),u=h.useMemo(()=>R([...m]),[]),x=h.useCallback(l=>()=>i(u(t,l)),[i,u,t]);return e(M,{exclusive:!0,value:t,...a,children:m.map(l=>e(A,{value:l,sx:{p:s?1:void 0,minWidth:s?0:"6em",display:"flex",gap:s?0:1},onClick:x(l),children:o(n,{display:"flex",children:[e("strong",{children:l}),!s&&e(F,{label:d[l],size:"small"})]})},l))})}const U={xs:1,sm:1,md:1,lg:2,xl:3};function Z(){const{database:t}=v(),d=h.useMemo(()=>y(P,a=>Object.entries(t.chars.data).forEach(([r])=>{const s=p(r).attribute;a[s].total++,t.chars.keys.includes(r)&&a[s].current++})),[t]),i=h.useMemo(()=>y(m,a=>Object.entries(t.chars.data).forEach(([r])=>{const s=p(r).rarity;a[s].total++,t.chars.keys.includes(r)&&a[s].current++})),[t]);return o(n,{display:"flex",flexDirection:"column",gap:5,children:[e(f,{children:e(B,{sx:{display:"flex",flexDirection:"column",gap:1},children:o(c,{container:!0,spacing:1,children:[e(c,{item:!0,children:"Wengine Toggle"}),e(c,{item:!0,children:e(W,{sx:{height:"100%"},onChange:()=>{},value:["fire"],totals:d,size:"small"})}),e(c,{item:!0,children:e($,{sx:{height:"100%"},onChange:()=>{},value:["S"],totals:i,size:"small"})}),e(c,{item:!0,flexGrow:1}),e(c,{item:!0,children:e(H,{autoFocus:!0,value:"term",onChange:()=>{},label:L("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})})]})})}),e(h.Suspense,{fallback:e(T,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:e(c,{container:!0,spacing:3,columns:U,children:O.map(a=>e(c,{item:!0,xs:1,children:e(Q,{characterKey:a})},a))})})]})}export{Z as default};
