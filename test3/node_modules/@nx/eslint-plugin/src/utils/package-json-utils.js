"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.removePackageJsonFromFileMap = exports.getAllDependencies = void 0;
const devkit_1 = require("@nx/devkit");
const fs_1 = require("fs");
function getAllDependencies(path) {
    if ((0, fs_1.existsSync)(path)) {
        const packageJson = (0, devkit_1.readJsonFile)(path);
        return Object.assign(Object.assign(Object.assign({}, packageJson.dependencies), packageJson.devDependencies), packageJson.peerDependencies);
    }
    return {};
}
exports.getAllDependencies = getAllDependencies;
function removePackageJsonFromFileMap(projectFileMap) {
    const newFileMap = {};
    Object.keys(projectFileMap).forEach((key) => {
        newFileMap[key] = projectFileMap[key].filter((f) => !f.file.endsWith('/package.json'));
    });
    return newFileMap;
}
exports.removePackageJsonFromFileMap = removePackageJsonFromFileMap;
