import{V as C,r as a,p as h,o as e,S as m,B as d,z as y,a2 as b}from"./index-BopMuR17.js";import"./UploadCard-COdDempx.js";import{u as v,C as S}from"./useForceUpdate-Jmtov8oo.js";import{u as k,a as w}from"./useInfScroll-D2t8cSMh.js";import{C as D,a as E}from"./CharacterEditor-O46C8-mR.js";import{G as u}from"./Grid-Bj35p5q-.js";import"./StatDisplay-CRRt0E0L.js";import"./PathIcon-Cf2OkzON.js";import"./CardActionArea-qsEdcHJP.js";const z={xs:1,sm:2,md:3,lg:3,xl:4},I={xs:5,sm:5,md:10,lg:10,xl:10};function M(){const{database:t}=C(),[c,n]=v();a.useEffect(()=>t.chars.followAny(n),[t,n]);const{characters:s}=a.useMemo(()=>{const r=t.chars.values;return c&&{characters:r}},[t.chars.values,c]),p=k(),{numShow:o,setTriggerElement:f}=w(I[p],s.length),i=a.useMemo(()=>s.slice(0,o),[s,o]),[g,l]=a.useState(void 0);return h(b,{children:[e(D,{characterKey:g,onClose:()=>l(void 0)}),e(a.Suspense,{fallback:e(m,{variant:"rectangular",sx:{widht:"100%",height:"100%",minHeight:300}}),children:h(d,{display:"flex",flexDirection:"column",gap:1,children:[e(y,{bgt:"dark",children:e(S,{title:"Characters"})}),e(u,{container:!0,spacing:1,columns:z,children:i.map((r,x)=>e(u,{item:!0,xs:1,children:e(E,{character:r,onClick:()=>l(r.key)})},x))}),s.length!==i.length&&e(m,{ref:r=>{r&&f(r)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})})]})}function V(){return e(d,{my:1,children:e(M,{})})}export{V as default};
